CREATE TABLE MEMBER(
MEMBER_NO NUMBER PRIMARY KEY,
MEMBER_USERID VARCHAR2(20) UNIQUE NOT NULL,
MEMBER_USERPWD CHAR(20) NOT NULL,
MEMBER_NICKNAME VARCHAR2(20) UNIQUE NOT NULL,
MEMBER_GENDER NVARCHAR2(3) CHECK(MEMBER_GENDER IN ('남','여')),
MEMBER_EMAIL VARCHAR2(30) NOT NULL);

COMMENT ON COLUMN MEMBER.MEMBER_NO IS '회원 고유 순번';
COMMENT ON COLUMN MEMBER.MEMBER_USERID IS '회원 아이디';
COMMENT ON COLUMN MEMBER.MEMBER_USERPWD IS '회원 비밀번호';
COMMENT ON COLUMN MEMBER.MEMBER_NICKNAME IS '회원 닉네임';
COMMENT ON COLUMN MEMBER.MEMBER_GENDER IS '회원 성별';
COMMENT ON COLUMN MEMBER.MEMBER_EMAIL IS '회원 이메일';

CREATE TABLE BOARD(
BOARD_NO NUMBER PRIMARY KEY,
BOARD_TITLE VARCHAR2(20) NOT NULL,
BOARD_CONTENT VARCHAR2(200) NOT NULL,
BOARD_WRITEDATE DATE NOT NULL,
BOARD_NICKNAME NOT NULL,
CONSTRAINT FK_NICK FOREIGN KEY(BOARD_NICKNAME)
REFERENCES MEMBER(MEMBER_NICKNAME));

CREATE TABLE BOARD_NO (
BOARD_NO NUMBER PRIMARY KEY);

DROP TABLE BOARD_NO;
COMMENT ON COLUMN BOARD.BOARD_NO IS '글 번호';
COMMENT ON COLUMN BOARD.BOARD_TITLE IS '글 제목';
COMMENT ON COLUMN BOARD.BOARD_CONTENT IS '글 내용';
COMMENT ON COLUMN BOARD.BOARD_WRITEDATE IS '글 작성시간';
COMMENT ON COLUMN BOARD.BOARD_NICKNAME IS '글 작성자';

CREATE SEQUENCE MEMBER_NO_SEQ
START WITH 1000
INCREMENT BY 1
MAXVALUE 1000000;

CREATE SEQUENCE BOARD_NO_SEQ
START WITH 1
INCREMENT BY 1
MAXVALUE 500000;

CREATE VIEW MEMBER_WRITE_VIEW AS 
SELECT MEMBER_NO, MEMBER_NICKNAME, 
MEMBER_EMAIL, BOARD_TITLE FROM MEMBER
JOIN BOARD ON MEMBER_NICKNAME = BOARD_NICKNAME;

CREATE INDEX BOARD_WIRTE_INDEX ON 
BOARD(BOARD_TITLE, BOARD_CONTENT);

CREATE SYNONYM M FOR MEMBER;
CREATE SYNONYM B FOR BOARD;


INSERT INTO MEMBER VALUES (MEMBER_NO_SEQ.NEXTVAL,'user11','1234','날으는 홍길동','남','hong@naver.com');
INSERT INTO MEMBER VALUES (MEMBER_NO_SEQ.NEXTVAL,'user22','1234','오예 김말똥','여','mal@naver.com');
INSERT INTO MEMBER VALUES (MEMBER_NO_SEQ.NEXTVAL,'user33','1234','이눔 고길똥','남자','gogo@naver.com');
INSERT INTO MEMBER VALUES (MEMBER_NO_SEQ.NEXTVAL,'user44','1234','어서옵쇼','남');
INSERT INTO MEMBER VALUES (MEMBER_NO_SEQ.NEXTVAL,'user55','1234','삼사오오','남','water@naver.com');

INSERT INTO BOARD VALUES (BOARD_NO_SEQ.NEXTVAL,'바람해봤니?','나는 리니지 했다',SYSDATE,'날으는 홍길동');
INSERT INTO BOARD VALUES (BOARD_NO_SEQ.NEXTVAL,'도와줘요','메롱',SYSDATE,'이눔 고길똥');
INSERT INTO BOARD VALUES (BOARD_NO_SEQ.NEXTVAL,'안뇽하세요','안녕가세요',SYSDATE,'삼사오오');
INSERT INTO BOARD VALUES (BOARD_NO_SEQ.NEXTVAL,'친구들아ㅋㅋ','마이묶었다 아이가',SYSDATE,'오예 김말똥');
INSERT INTO BOARD VALUES (BOARD_NO_SEQ.NEXTVAL,'전우치 알어?','이제부터 좀 나도 변해볼까?',SYSDATE,'날으는 홍길동');

SELECT * FROM M;
SELECT * FROM B;
SELECT * FROM MEMBER_WRITE_VIEW;

SELECT BOARD_TITLE, BOARD_CONTENT FROM BOARD;